rabbitmq:
  enabled: true
  replicaCount: 3
  podManagementPolicy: Parallel
  networkPolicy:
    enabled: false
  resourcesPreset: "medium"
  service:
    type: LoadBalancer
    loadBalancerIP: "172.23.169.235"
    managerPortEnabled: true
  ingress:
    enabled: true
    hostname: messagebus.diamond.ac.uk
    pathType: Prefix
    path: /
    ingressClassName: nginx
  auth:
    existingErlangSecret: rabbitmq-erlang
    tls:
      enabled: true
      autoGenerated: false
      failIfNoPeerCert: false
      sslOptionsVerify: verify_peer
      existingSecret: rabbitmq-certs
      extraAltNames: amqp.messagebus.diamond.ac.uk
  loadDefinition:
    enabled: true
    existingSecret: rabbitmq-load-definition
    vhosts:
      "/":
        enabled: true
        description: "Default virtual host"
        users: ["admin"]
      testing:
        enabled: true
        description: "Extra vhost for testing purposes"
        users: ["admin"]
  extraConfiguration: |
    listeners.tcp = none
    load_definitions = /app/load_definition.json
